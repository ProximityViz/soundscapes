<ion-view class="game-play-view">
  <ion-nav-title>
    {{gamePlay.quiz.title}}
  </ion-nav-title>
  <ion-nav-buttons side="right">
    <button class="button button-positive" ng-if="gamePlay.complete" ng-click="gamePlay.advance();">Next</button>
  </ion-nav-buttons>
  <ion-content class="padding" scroll="false">
    <div class="audio-photo" ng-class="{hidden: gamePlay.quizComplete}">
      <div class="audio">
        <audio id="audio" controls class="inline">
          <source id="source" ng-src="{{gamePlay.audio}}" ng-click="gamePlay.audioTapped()">
          Your browser does not support the audio element.
        </audio>
        <div ng-bind-html="gamePlay.quiz.sound.info"></div>
        <div>Credit: <span ng-bind-html="gamePlay.quiz.sound.credit"></span></div>
        <div>{{gamePlay.title}}</div>
      </div>
      <div class="photo" ng-style="{'background-image':'url(/'+gamePlay.quiz.image.file+')'}" ng-click="gamePlay.showPhotoModal()">
      </div>
    </div>
    <div class="container" ng-class="{hidden: gamePlay.quizComplete}">
      <div ng-class="orientation === 'landscape' ? 'choice-landscape' : 'choice-portrait'" ng-repeat="spectrogram in gamePlay.quiz.spectrograms">
        <div class="time-bar-not-animated"></div>
        <div ng-style="{'background-image':'url(/'+spectrogram.file+')'}" class="spectrogram" ng-click="gamePlay.choose($index)"></div>
        <button class="select-button button icon ion-checkmark" ng-class="{'ion-checkmark-circled': gamePlay.attempted[$index] === 'correct', 'ion-close-circled': gamePlay.attempted[$index] === 'incorrect', attempted: gamePlay.attempted[$index], correct: gamePlay.quiz.correctSpectrogramIndex === $index}" ng-click="gamePlay.choose($index)"></button>
        <button class="zoom-button button icon ion-arrow-expand" ng-click="gamePlay.showSpectrogramModal($index)"></button>
      </div>
    </div>
    <!-- this is shown when the pack is completed -->
    <div class="pack-complete padding" ng-class="{hidden: !gamePlay.quizComplete}">
      Congratulations! You have completed the {{gamePlay.packName}} pack!<br>
    </div>
    <button class="return-to-menu button icon ion-arrow-left-a" ng-class="{hidden: !gamePlay.quizComplete}" ng-click="$ionicGoBack()"> Return to Menu</button>
  </ion-content>
</ion-view>
